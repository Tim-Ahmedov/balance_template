# Операция CREDIT (Зачисление средств)

Операция CREDIT предназначена для зачисления средств на баланс пользователя.

## Логика работы

1. Проверяется наличие обязательных параметров: `user_id`, `amount`, `operation_id`.
2. Сумма зачисления (`amount`) должна быть положительной.
3. Проверяется, не была ли уже выполнена операция с данным `operation_id` (идемпотентность).
4. Осуществляется поиск пользователя с блокировкой строки (или создаётся новый).
5. Баланс пользователя увеличивается на сумму зачисления.
6. Создаётся запись в таблице транзакций с типом `credit` и статусом `confirmed`.
7. Все действия выполняются в рамках транзакции БД.
8. В случае успеха отправляется событие `funds_credited` в очередь.
9. В случае ошибок (пользователь не найден, дублирование операции) возвращается соответствующий статус.

## Возможные статусы результата
- `success` — операция успешно выполнена
- `duplicate` — операция с таким `operation_id` уже была проведена
- `error` — ошибка (например, пользователь не найден) 